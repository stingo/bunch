<html>
<head>
    <title>HTML5 Audio Player</title>
    
</head>
<body class="custombgD9E0E7">
   <div class="clearfix"></div>
    <div class="clearfix"></div>
    
<!--div class="transitions-enabled m-t-10" id="upfrica-pins">
              
    

                   <div class="box panel panel-default"-->

          <div class="container-full">
            <div class="row fh ">
              
              <div class="col-md-2 fh-md oa text-center custombgD9E0E7"><!--left grid-->
                <div class="p-lg">
                  <h5>Left Column</h5>
                  <p class="text-center">Nullam pretium fermentum sapien ut convallis.</p>
                </div>
                <div class="p-lg">
                  <p>Pellentesque sed purus libero. Nam eleifend, ipsum at suscipit pellentesque, diam enim dignissim nunc, eu egestas sem velit vel nunc. Phasellus vel nisl orci.</p>
                </div>
              </div><!--left grid ends -->


              <div class="col-md-8 fh-md oa text-center custombgD9E0E7"><!--mid grid-->
                


                <section id="music" class="music-section section text-center custombgD9E0E7">
                <div class="container">
                    <div class="albums-block">

                <div class="">
                 <ul id="playlist" class="">

                 <% @songs.each do |song| %>
    

                    <div class="item col-6 col-lg-4 m-auto custombgD9E0E7" style="">
                        
            <li song="<%= song.sound.url if song.sound %>" cover="<%= song.songcover.url if song.songcover %>" artist="" title="<%= truncate(song.title, length: 14) %>">

                        <div class="item-inner custombgD9E0E7 ">
                             <h3 class="album-title ">
                                <%= truncate(song.title, length: 170) %>
                            </h3>
                            <div class="cover-holder">
                                
                                <a class="cover-figure" href="#">
                                    <div class="arrow-holder"></div>
                                    <div class="record-holder">

                                        <img class="img-responsive" src="<%= image_url('record.png') %>" alt="">

                                    </div>

                                    <% if song.songcover? %>

         <img src="<%= song.songcover.url(:thumb) %>" alt="Song Image" class="cover-image img-responsive centered box-hover">

        
        <% else %> 
        <%= image_tag("fallback/noimage.jpg", :class => "img-responsive centered   box-hover") %>
<% end %>



                                    


                                    <!--div class="cover-label">Coming Soon</div--><!--//cover-label-->
                                </a><!--//cover-figure-->

                                <a href="#" class="btn btn-sm btn-ghost-secondary">Pre-Order Album</a>
                               
                            </div><!--//cover-holder-->
                            
                            
                        </div><!--//item-inner-->
                    </li>
                    </div><!--//item-->


                      <% end %>

</ul>
                    
                    

                </div><!--//row-->
            </div><!--//albums-block-->
            <div class="music-action">
                <a class="btn btn-ghost-primary" href="#">Music on iTunes</a>
            </div>
        </div><!--//container-->
    </section><!--//music-section-->
              

              </div><!--mid grid end -->


              <div class="col-md-2 fh-md oa text-center custombgD9E0E7"><!--right grid-->
                <div class="p-lg">
                  <h5>Right Column</h5>
                  <p class="text-center">Nullam pretium fermentum sapien ut convallis.</p>
                </div>
                <div class="p-lg">
                  <p>Pellentesque sed purus libero. Nam eleifend, ipsum at suscipit pellentesque, diam enim dignissim nunc, eu egestas sem velit vel nunc. Phasellus vel nisl orci.</p>
                </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
                <p class="lead">Bottom</p>
              </div><!--right grid end-->


            </div>
          </div>
      













   <div class="audio-player">


<footer class="footer" style="margin-top: -60px !important">

  <!--div id="audio-image">
    <img class="cover" />
  </div-->

    <div class="album-info">
          <div id="cover">
              <img  class="img-responsive" src="images/album-cover.jpg" alt="Image">
          </div>
    </div>




  <div id="audio-player" style="margin-top: -60px !important">


    
    <div id="audio-info">
      <span class="artist"></span> - <span class="title"></span>
    </div>
     <!--input id="volume" type="range" min="0" max="10" value="5" /-->
     
 
     
     <div class="jp-type-playlist">
      <div class="jp-interface">

     <div id="buttons" class="jp-controls">
     <span class="jp-controls" style="max-height: 25px;">
      <button id="prev"></button>

      <button id="stop"></button>
      <button id="next"></button>
      <button id="play"></button>
      <button id="pause"></button>
      </span><span id="progress"></span>
       </div>






     </div>
   </div>


     <div class="clearfix"></div>
     
      <span id="duration"></span>
     </div>
         <div id="audio-info">
      
  
    </footer>

    </div><!--audio player-->
 

</body>
</html>





<script>
var audio;

//Hide Pause Initially
$('#pause').hide();
  
//Initializer - Play First Song
initAudio($('#playlist li:first-child'));
  
function initAudio(element){
    var song = element.attr('song');
    var title = element.attr('title');
    var cover = element.attr('cover');
    var artist = element.attr('artist');

  //Create a New Audio Object
  audio = new Audio(song);
  
  if(!audio.currentTime){
    $('#duration').html('0.00');
  }

  $('#audio-player .title').text(title);
    $('#audio-player .artist').text(artist);
  
  //Insert Cover Image
  $('img.cover').attr('src','' + cover);
  
  $('#playlist li').removeClass('active');
    element.addClass('active');
}


//Play Button
$('#play').click(function(){
  audio.play();
  $('#play').hide();
  $('#pause').show();
  $('#duration').fadeIn(400);
  showDuration();
});

//Pause Button
$('#pause').click(function(){
  audio.pause();
  $('#pause').hide();
  $('#play').show();
});
  
//Stop Button
$('#stop').click(function(){
  audio.pause();    
  audio.currentTime = 0;
  $('#pause').hide();
  $('#play').show();
  $('#duration').fadeOut(400);
});

//Next Button
$('#next').click(function(){
    audio.pause();
    var next = $('#playlist li.active').next();
    if (next.length == 0) {
        next = $('#playlist li:first-child');
    }
    initAudio(next);
  audio.play();
  showDuration();
});

//Prev Button
$('#prev').click(function(){
    audio.pause();
    var prev = $('#playlist li.active').prev();
    if (prev.length == 0) {
        prev = $('#playlist li:last-child');
    }
    initAudio(prev);
  audio.play();
  showDuration();
});

//Playlist Song Click
$('#playlist li').click(function () {
    audio.pause();
    initAudio($(this));
  $('#play').hide();
  $('#pause').show();
  $('#duration').fadeIn(400);
  audio.play();
  showDuration();
});

//Volume Control
$('#volume').change(function(){
  audio.volume = parseFloat(this.value / 10);
});
  
//Time Duration
function showDuration(){
  $(audio).bind('timeupdate', function(){
    //Get hours and minutes
    var s = parseInt(audio.currentTime % 60);
    var m = parseInt((audio.currentTime / 60) % 60);
    //Add 0 if seconds less than 10
    if (s < 10) {
      s = '0' + s;
    }
    $('#duration').html(m + '.' + s); 
    var value = 0;
    if (audio.currentTime > 0) {
      value = Math.floor((100 / audio.duration) * audio.currentTime);
    }
    $('#progress').css('width',value+'%');
  });
}</script>

